{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport const input = document.querySelector(`.input`);\nexport async function fetchImages() {\n  let correctInput = input.value.split(' ').join('+');\n\n  const parameters = new URLSearchParams({\n    key: '42539548-54a8d83eadfda97e0fcb53b56',\n    q: correctInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 15,\n    page: 1,\n  });\n\n  const response = await axios.get(`https://pixabay.com/api/?${parameters}`);\n\n  return response.data;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const imgList = document.querySelector('.img-list');\n\nexport function render(images) {\n  const markup = images.hits\n    .map(image => {\n      return `<li class=\"list-item\">\n              <a href=\"${image.largeImageURL}\" class=\"list-item-link\">\n                <img class=\"list-item-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n              </a>\n              <div class=\"list-item-description\">\n                <h2 class=\"description-name\">Likes\n                  <p class=\"description-value\">${image.likes}</p>\n                </h2>\n                <h2 class=\"description-name\">Views \n                  <p class=\"description-value\">${image.views}</p>\n                </h2>\n                <h2 class=\"description-name\">Comments \n                  <p class=\"description-value\">${image.comments}</p>\n                </h2>\n                <h2 class=\"description-name\">Downloads \n                  <p class=\"description-value\">${image.downloads}</p>\n                </h2>\n              </div>\n            </li>`;\n    })\n    .join('');\n\n  imgList.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.list-item a', {\n    captionDelay: 250,\n    captionSelector: 'img',\n    scrollZoom: false,\n    captionsData: 'alt',\n    fadeSpeed: 250,\n  });\n\n  lightbox.refresh();\n}\n","import { fetchImages, input } from './js/pixabay-api';\nimport { render, imgList } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst loader = document.querySelector('.loader');\nconst loadBtn = document.querySelector('.load-btn');\nconst form = document.querySelector('.form');\nlet page = 1;\nlet posts;\n\nform.addEventListener(`submit`, formSearch);\n\nasync function formSearch(event) {\n  page = 1;\n\n  const inputTrim = input.value.trim();\n  if (inputTrim === '') {\n    event.preventDefault();\n    form.reset();\n    return;\n  }\n\n  event.preventDefault();\n  clearImgList();\n  try {\n    posts = await fetchImages();\n    render(posts);\n    form.reset();\n    loader.classList.remove('hidden');\n    loadBtn.classList.remove('hidden');\n\n    if (posts.hits.length === 0) {\n      loadBtn.classList.add('hidden');\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    }\n\n    setTimeout(() => {\n      loader.classList.add('hidden');\n    }, 800);\n    return;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nloadBtn.addEventListener('click', loadMore);\nasync function loadMore(event) {\n  event.preventDefault();\n  page += 1;\n\n  try {\n    posts = await fetchImages();\n    render(posts);\n\n    ScrollBy(750);\n\n    if (posts.hits.length === 0) {\n      loadBtn.classList.add('hidden');\n      iziToast.error({\n        position: 'topRight',\n        message: \"We're sorry, but you've reached the end of search results.\",\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction clearImgList() {\n  imgList.innerHTML = '';\n}\n\nfunction ScrollBy(distance) {\n  window.scrollBy({\n    top: distance,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["input","fetchImages","correctInput","parameters","axios","imgList","render","images","markup","image","SimpleLightbox","loader","loadBtn","form","posts","formSearch","event","clearImgList","iziToast","error","loadMore","ScrollBy","distance"],"mappings":"owBACO,MAAMA,EAAQ,SAAS,cAAc,QAAQ,EAC7C,eAAeC,GAAc,CAClC,IAAIC,EAAeF,EAAM,MAAM,MAAM,GAAG,EAAE,KAAK,GAAG,EAElD,MAAMG,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAM,CACV,CAAG,EAID,OAFiB,MAAME,EAAM,IAAI,4BAA4BD,CAAU,EAAE,GAEzD,IAClB,CCfO,MAAME,EAAU,SAAS,cAAc,WAAW,EAElD,SAASC,EAAOC,EAAQ,CAC7B,MAAMC,EAASD,EAAO,KACnB,IAAIE,GACI;AAAA,yBACYA,EAAM,aAAa;AAAA,kDACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iDAIvCA,EAAM,KAAK;AAAA;AAAA;AAAA,iDAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,iDAGXA,EAAM,QAAQ;AAAA;AAAA;AAAA,iDAGdA,EAAM,SAAS;AAAA;AAAA;AAAA,kBAI3D,EACA,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,EAE7B,IAAIE,EAAe,eAAgB,CAClD,aAAc,IACd,gBAAiB,MACjB,WAAY,GACZ,aAAc,MACd,UAAW,GACf,CAAG,EAEQ,QAAO,CAClB,CCrCA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAO,SAAS,cAAc,OAAO,EAE3C,IAAIC,EAEJD,EAAK,iBAAiB,SAAUE,CAAU,EAE1C,eAAeA,EAAWC,EAAO,CAI/B,GADkBhB,EAAM,MAAM,KAAI,IAChB,GAAI,CACpBgB,EAAM,eAAc,EACpBH,EAAK,MAAK,EACV,MACD,CAEDG,EAAM,eAAc,EACpBC,IACA,GAAI,CACFH,EAAQ,MAAMb,IACdK,EAAOQ,CAAK,EACZD,EAAK,MAAK,EACVF,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAU,OAAO,QAAQ,EAE7BE,EAAM,KAAK,SAAW,IACxBF,EAAQ,UAAU,IAAI,QAAQ,EAC9BM,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,GAGH,WAAW,IAAM,CACfP,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAE,GAAG,EACN,MACD,OAAQQ,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEAP,EAAQ,iBAAiB,QAASQ,CAAQ,EAC1C,eAAeA,EAASJ,EAAO,CAC7BA,EAAM,eAAc,EAGpB,GAAI,CACFF,EAAQ,MAAMb,IACdK,EAAOQ,CAAK,EAEZO,EAAS,GAAG,EAERP,EAAM,KAAK,SAAW,IACxBF,EAAQ,UAAU,IAAI,QAAQ,EAC9BM,EAAS,MAAM,CACb,SAAU,WACV,QAAS,4DACjB,CAAO,EAEJ,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASF,GAAe,CACtBZ,EAAQ,UAAY,EACtB,CAEA,SAASgB,EAASC,EAAU,CAC1B,OAAO,SAAS,CACd,IAAKA,EACL,KAAM,EACN,SAAU,QACd,CAAG,CACH"}